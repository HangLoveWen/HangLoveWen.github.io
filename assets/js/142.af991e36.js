(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{539:function(s,e,a){"use strict";a.r(e);var t=a(2),r=Object(t.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("声明文件 declare\n当使用第三方库时，我们需要引用它的声明文件，才能获得对应的代码补全、接口提示等功能。")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("declare var 声明全局变量")])]),s._v(" "),e("li",[e("p",[s._v("declare function 声明全局方法")])]),s._v(" "),e("li",[e("p",[s._v("declare class 声明全局类")])]),s._v(" "),e("li",[e("p",[s._v("declare enum 声明全局枚举类型")])]),s._v(" "),e("li",[e("p",[s._v("declare namespace 声明（含有子属性的）全局对象")])]),s._v(" "),e("li",[e("p",[s._v("interface 和 type 声明全局类型")])]),s._v(" "),e("li",[e("p",[s._v("/// "),e("code",[s._v("<reference />")]),s._v(" 三斜线指令")])])]),s._v(" "),e("p",[s._v("例如我们有一个express 和 axios")]),s._v(" "),e("p",[s._v("发现express 报错了")]),s._v(" "),e("p",[s._v("让我们去下载他的声明文件")]),s._v(" "),e("div",{staticClass:"language-typescript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[s._v("npm install "),e("span",{pre:!0,attrs:{class:"token decorator"}},[e("span",{pre:!0,attrs:{class:"token at operator"}},[s._v("@")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("types")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("node "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("D")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("那为什么axios 没有报错")]),s._v(" "),e("p",[s._v("我们可以去node_modules 下面去找axios 的package json")]),s._v(" "),e("p",[s._v("发现axios已经指定了声明文件 所以没有报错可以直接用")]),s._v(" "),e("p",[s._v("通过语法declare 暴露我们声明的axios 对象")]),s._v(" "),e("div",{staticClass:"language-typescript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" axios"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AxiosStatic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果有一些第三方包确实没有声明文件我们可以自己去定义")]),s._v(" "),e("p",[s._v("名称.d.ts 创建一个文件去声明")]),s._v(" "),e("p",[s._v("例如express.d.ts")]),s._v(" "),e("div",{staticClass:"language-typescript line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-typescript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("declare")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("express")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("any")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("关于这些第三发的声明文件包都收录到了 npm")]),s._v(" "),e("p",[s._v("npm js")])])}),[],!1,null,null,null);e.default=r.exports}}]);