(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{594:function(s,a,n){"use strict";n.r(a);var t=n(2),e=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("1.介绍vue")]),s._v(" "),a("p",[s._v("Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。")]),s._v(" "),a("p",[s._v("MVVM（Model-View-ViewModel）架构")]),s._v(" "),a("p",[s._v("『View』：视图层（UI 用户界面）\n『ViewModel』：业务逻辑层（一切 js 可视为业务逻辑）\n『Model』：数据层（存储数据及对数据的处理如增删改查）")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s1.imagehub.cc/images/2023/02/07/9387254b6277b3814d3bb615c560f663.png",alt:"9387254b6277b3814d3bb615c560f663.png"}})]),s._v(" "),a("p",[s._v("官方文档地址   介绍 — Vue.js")]),s._v(" "),a("p",[s._v("新版地址文档快速开始 | Vue.js")]),s._v(" "),a("p",[s._v("2.回顾vue2 对比 vue3\n我们看如下图")]),s._v(" "),a("p",[s._v("发现传统的vue2 逻辑比较分散 可读性差 可维护性差")]),s._v(" "),a("p",[s._v("对比vue3 逻辑分明 可维护性 高")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s1.imagehub.cc/images/2023/02/07/c5a6637b4f0b65c12517d59cbc70b6e4.png",alt:"c5a6637b4f0b65c12517d59cbc70b6e4.png"}})]),s._v(" "),a("p",[s._v("3.Vue3 新特性介绍")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s1.imagehub.cc/images/2023/02/07/2d6fc915e37f10beed0df86b4496dfea.png",alt:"2d6fc915e37f10beed0df86b4496dfea.png"}})]),s._v(" "),a("p",[s._v("重写双向绑定\nvue2\n基于Object.defineProperty()实现")]),s._v(" "),a("p",[s._v("vue3 基于Proxy\nproxy与Object.defineProperty(obj, prop, desc)方式相比有以下优势：")]),s._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[s._v("//丢掉麻烦的备份数据\n//省去for in 循环\n//可以监听数组变化\n//代码更简化\n//可以监听动态新增的属性；\n//可以监听删除的属性 ；\n//可以监听数组的索引和 length 属性；\n\n    let proxyObj = new Proxy(obj,{\n        get : function (target,prop) {\n            return prop in target ? target[prop] : 0\n        },\n        set : function (target,prop,value) {\n            target[prop] = 888;\n        }\n    })\n\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("p",[s._v("Vue3 优化Vdom")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s1.imagehub.cc/images/2023/02/07/2c5160d70d81a4df2cdc2f173a4e9bbd.png",alt:"2c5160d70d81a4df2cdc2f173a4e9bbd.png"}}),s._v("\n在Vue2中,每次更新diff,都是全量对比,Vue3则只对比带有标记的,这样大大减少了非动态内容的对比消耗")]),s._v(" "),a("p",[s._v("Vue Template Explorer 我们可以通过这个网站看到静态标记")]),s._v(" "),a("p",[s._v("patch flag 优化静态树")]),s._v(" "),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`Hello world!\n`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`Hello world!\n`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`Hello world!\n`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`Hello world!\n`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`{{msg}}\n`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`Hello world!\n`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('`Hello world! \nVue3 编译后的 Vdom 是这个样子的\n\nexport function render(_ctx，_cache，$props，$setup，$data，$options){return (_openBlock(),_createBlock(_Fragment,null，[\n_createvNode( "span", null,"Hello world ! "),\n_createvNode( "span",null，"Hello world! "),\n_createvNode( "span"，null，"Hello world! "),\n_createvNode( "span", null，"Hello world! "),\n_createVNode("span", null，_toDisplaystring(_ctx.msg)，1/* TEXT */)，\n_createvNode( "span", null，"Hello world! "),\n_createvNode( "span", null，"Hello world! ")]，64/*STABLE_FRAGMENT */))\n新增了 patch flag 标记\n\nTEXT = 1 // 动态文本节点\nCLASS=1<<1,1 // 2//动态class\nSTYLE=1<<2，// 4 //动态style\nPROPS=1<<3,// 8 //动态属性，但不包含类名和样式\nFULLPR0PS=1<<4,// 16 //具有动态key属性，当key改变时，需要进行完整的diff比较。\nHYDRATE_ EVENTS = 1 << 5，// 32 //带有监听事件的节点\nSTABLE FRAGMENT = 1 << 6, // 64 //一个不会改变子节点顺序的fragment\nKEYED_ FRAGMENT = 1 << 7, // 128 //带有key属性的fragment 或部分子字节有key\nUNKEYED FRAGMENT = 1<< 8, // 256 //子节点没有key 的fragment\nNEED PATCH = 1 << 9, // 512 //一个节点只会进行非props比较\nDYNAMIC_SLOTS = 1 << 10 // 1024 // 动态slot\nHOISTED = -1 // 静态节点\nBALL = -2\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("p",[s._v("我们发现创建动态 dom 元素的时候，Vdom 除了模拟出来了它的基本信息之外，还给它加了一个标记： 1 /* TEXT */")]),s._v(" "),a("p",[s._v("这个标记就叫做 patch flag（补丁标记）")]),s._v(" "),a("p",[s._v("patch flag 的强大之处在于，当你的 diff 算法走到 _createBlock 函数的时候，会忽略所有的静态节点，只对有标记的动态节点进行对比，而且在多层的嵌套下依然有效。")]),s._v(" "),a("p",[s._v("尽管 JavaScript 做 Vdom 的对比已经非常的快，但是 patch flag 的出现还是让 Vue3 的 Vdom 的性能得到了很大的提升，尤其是在针对大组件的时候。")]),s._v(" "),a("p",[s._v("Vue3 Fragment\nvue3 允许我们支持多个根节点")]),s._v(" "),[a("div",[s._v("12")]),s._v(" "),a("div",[s._v("23")])],s._v("\n同时支持render JSX 写法\n"),a("div",{staticClass:"language-vue line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[s._v("render() {\n        return (\n            <>\n                {this.visable ? (\n                    `"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`{this.obj.name}`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`\n                ) : (\n                    `"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`{this.obj.price}`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`\n                )}\n                `"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("input")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("v-model")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),s._v("{this.val}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`\n                {[1, 2, 3].map((v) => {\n                   return `"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`{v}-----`"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("`;\n                })}\n            </>\n        );\n    },\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("p",[s._v("同时新增了Suspense teleport  和  多 v-model 用法")]),s._v(" "),a("p",[s._v("Vue3 Tree shaking\n简单来讲，就是在保持代码运行结果不变的前提下，去除无用的代码")]),s._v(" "),a("p",[s._v("在Vue2中，无论我们使用什么功能，它们最终都会出现在生产代码中。主要原因是Vue实例在项目中是单例的，捆绑程序无法检测到该对象的哪些属性在代码中被使用到")]),s._v(" "),a("p",[s._v("而Vue3源码引入tree shaking特性，将全局 API 进行分块。如果你不使用其某些功能，它们将不会包含在你的基础包中")]),s._v(" "),a("p",[s._v("就是比如你要用watch 就是import {watch} from 'vue' 其他的computed 没用到就不会给你打包减少体积")]),s._v(" "),a("p",[s._v("Vue 3 Composition Api\nSetup 语法糖式编程")]),s._v(" "),a("p",[s._v("例如 ref  reactive watch computed toRefs toRaws 我们会在下几个章节详解")])],2)}),[],!1,null,null,null);a.default=e.exports}}]);